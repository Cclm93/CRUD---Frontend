
drop table endereco;
drop table telefone;
drop table users;

CREATE TABLE `users` (
  `id` integer PRIMARY KEY NOT NULL AUTO_INCREMENT,
  `nome` varchar(255) NOT NULL,
  `nascimento` date NOT NULL,
  `nacionalidade` varchar(255) ,
  `sexo` varchar(1) NOT NULL,
  `estado_civil` varchar(255) NOT NULL,
  `ocupacao` varchar(255),
  `email` varchar(255) NOT NULL,
  `cpf` varchar(11) NOT NULL,
  `cadastrado_em` timestamp NOT NULL,
  `modificado_em` timestamp NOT NULL
);

CREATE TABLE `endereco` (
  `endereco_id` integer PRIMARY KEY NOT NULL AUTO_INCREMENT,
  `user_id` integer NOT NULL,
  `estado` varchar(255) NOT NULL,
  `cidade` varchar(255)NOT NULL,
  `bairro` varchar(255)NOT NULL,
  `rua` varchar(255) NOT NULL,
  `numero` varchar(5) NOT NULL,
  `complemento` varchar(255) ,
  `CEP` varchar(9) NOT NULL
);

CREATE TABLE `telefone` (
  `telefone_id` integer PRIMARY KEY NOT NULL AUTO_INCREMENT,
  `user_id` integer NOT NULL,
  `telefone` varchar(11) NOT NULL
);

ALTER TABLE `telefone` ADD FOREIGN KEY (`user_id`) REFERENCES `users` (`id`);

ALTER TABLE `endereco` ADD FOREIGN KEY (`user_id`) REFERENCES `users` (`id`);